تلعب الألوان دورًا مهما في تطوير تطبيقات الويب من حيث تحسين تجربة المستخدم وجعل الصفحات أكثر تفاعلَا وجاذبية. عادةَ ما نحدد هذه الألوان باستخدام أكواد CSS ولكن أحيانا قد نحتاج لتغيير الألوان تلقائيَا لإنشاء تفاعل ديناميكي مع لون الخلفية.
سأشرح في هذا المقال كيف يمكننا تحديد درجة سطوع اللون luminance عبر معادلة رياضية واستخدام الناتج لتحديد ما إذا كانت الخلفية فاتحة أو داكنة مع تغيير اللون ديناميكيَا بناءَ على الناتج، ثم سنقوم بذلك مجددَا بطريقة أبسط باستخدام مكتبة Color.js الخاصة بجافاسكريببت JavaScript.

## الاستضواء أو درجة سطوع اللون Luminance
الاستضواء أو درجة سطوع اللون هو مؤشر يستخدم لحساب شدة الاضاءة التي يعكسها أو يصدرها اللون، تحسب بناء على المكونات الأساسية للضوء (الأحمر، الأخضر والأزرق) RGB بنسب مختلفة بحسب تأثيرها على حساسية العين البشرية.  
يمكن حساب الاستضواء باستخدام المعادلة أدناه
```
Luminance = 0.2126 × R + 0.7152 × G + 0.0722 × B
```
حيث يمثل R اللون الأحمر، G اللون الاخضر وB اللون الأزرق.  

**ماذا تعني هذه المعادلة؟**  

- اللون الأخضر لديه التاثير الأكبر على السطوع لكون العين البشرية أكثر حساسية له.
- اللون الأزرق هو الأقل سطوعا.
- كلما كان اللون داكنَا أكثر كلما قل تأثيره على السطوع.


يعد مفهوم الاستضواء مهما في تصميم الواجهات وتجربة المستخدم UI\UX لضمان تجربة سلسة للمستخدم.

## حساب الاستضواء وتغيير اللون باستخدام جافاسكريبت JavaScript.
سنحسب في هذا القسم الاستضواء تلقائيَا ونغير لون النص حسب نتيجة المعادلة التي ذكرناها سابقا.

أولا سننشئ الهيكل باستخدام HTML سيحتوي الهيكل على نص وزر لتغيير خلفية اللون:    
  
```HTML
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>تغيير الألوان ديناميكيا</title>
</head>
<body>
  <div class="content">
    <h2>هذا النص سيتغير لونه تلقائيَا</h2>
    <button id="change-bg">تغيير لون الخلفية</button>
  </div>
</body>
```

سم سنضيف CSS داخل عنصر `<style>` لتعديل شكل الصفحة:   
```CSS
<style>
      * {
          box-sizing: border-box;
      }
    body {
        height: 100vh;
        display: flex;
        justify-content: center;
        align-items: center;
    }
    .content {
        display: flex;
        flex-direction: column;
        align-items: center;
        width: 250px;
        height: 100px;
    }
    button {
        width: 150px;
        height: 40px;
        font-size: 1.2rem;
        background-color: bisque;
    }
  </style>
```
_**ملاحظة**_: هذا الجزء اختياري وليس ضروريا لعمل الكود.  
ثم سنبدأ بالحصول على الزر الذي أضفناه لنستطيع تغيير لون الخلفية:
```javascript
const changeBgBtn = document.getElementById("change-bg");
```
ثم سنقوم بإنشاء لونلا عشوائي باستخدام `()Math.random` على شكل رقم عشوائي نحوله الى hexcode: 
```javascript
const randomColor = '#' + Math.floor(Math.random() * 16777215).toString(16);
```
غالبا ما يكون لون الخلفية بصيغة hexcode مثل `ffffff#` 








